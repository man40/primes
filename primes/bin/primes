#!/usr/bin/env python
import argparse
from sympy.ntheory import factorint
from cachier import cachier
import datetime


@cachier(stale_after=datetime.timedelta(days=15))
def prime_factors(num: int) -> [int]:
    return list(factorint(num))


if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='Find prime factorizations')
    parser.add_argument('number', type=int, help='Number of which to find prime factorizations')
    args = parser.parse_args()
    print(prime_factors(args.number))
    print(prime_factors.cache_dpath())
